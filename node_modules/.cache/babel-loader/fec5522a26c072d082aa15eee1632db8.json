{"ast":null,"code":"import _toConsumableArray from\"/Users/apple/Desktop/FrontEnd/reactjs2.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/apple/Desktop/FrontEnd/reactjs2.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/apple/Desktop/FrontEnd/reactjs2.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/apple/Desktop/FrontEnd/reactjs2.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/apple/Desktop/FrontEnd/reactjs2.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/apple/Desktop/FrontEnd/reactjs2.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import TextInput from'../Forms/TextInput';import{getDataFromLocalStorage,saveDataToLocalStorage}from'../../utils/common';import validator from'../../validations/studentForm';import'./StudentForm.scss';var StudentForm=/*#__PURE__*/function(_Component){_inherits(StudentForm,_Component);function StudentForm(){var _this;_classCallCheck(this,StudentForm);_this=_possibleConstructorReturn(this,_getPrototypeOf(StudentForm).call(this));_this.handleChange=function(e){var data=_this.state.data;data[e.target.name]=e.target.value;_this.setState({data:data});};_this.insertStudent=function(){var _validator=validator(_this.state.data),isValid=_validator.isValid,errors=_validator.errors;if(!isValid){return _this.setState({errors:errors});}var _this$props=_this.props,students=_this$props.students,updateStudentList=_this$props.updateStudentList;var data=getDataFromLocalStorage('students')||students;var updatedData=[].concat(_toConsumableArray(data),[_this.state.data]);saveDataToLocalStorage('students',updatedData);updateStudentList(updatedData);_this.setState({errors:{},data:{}});};_this.state={data:{name:'',gender:'',math:'',english:''},errors:{}};return _this;}_createClass(StudentForm,[{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,errors=_this$state.errors,_this$state$data=_this$state.data,name=_this$state$data.name,gender=_this$state$data.gender,math=_this$state$data.math,english=_this$state$data.english;return React.createElement(\"div\",{className:\"student-form\"},React.createElement(\"h2\",null,\"Student form\"),React.createElement(\"div\",{className:\"student-form-content\"},React.createElement(TextInput,{name:\"name\",label:\"Student Name\",value:name,onChange:this.handleChange,error:errors.name}),React.createElement(TextInput,{name:\"gender\",label:\"Gender\",value:gender,onChange:function onChange(e){return _this2.handleChange(e);},error:errors.gender}),React.createElement(TextInput,{name:\"math\",label:\"Math\",value:math,onChange:this.handleChange,error:errors.math}),React.createElement(TextInput,{name:\"english\",label:\"English\",value:english,onChange:this.handleChange,error:errors.english}),React.createElement(\"button\",{className:\"button\",onClick:this.insertStudent},\"Insert Student\")));}}]);return StudentForm;}(Component);export default StudentForm;","map":{"version":3,"sources":["/Users/apple/Desktop/FrontEnd/reactjs2.github.io/src/components/StudentForm/StudentForm.jsx"],"names":["React","Component","TextInput","getDataFromLocalStorage","saveDataToLocalStorage","validator","StudentForm","handleChange","e","data","state","target","name","value","setState","insertStudent","isValid","errors","props","students","updateStudentList","updatedData","gender","math","english"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport TextInput from '../Forms/TextInput';\nimport { getDataFromLocalStorage, saveDataToLocalStorage } from '../../utils/common';\nimport validator from '../../validations/studentForm';\nimport './StudentForm.scss';\n\nclass StudentForm extends Component {\n  constructor() {\n    super();\n    this.state = {\n      data: {\n        name: '',\n        gender: '',\n        math: '',\n        english: ''\n      },\n      errors: {}\n    }\n  }\n\n  handleChange = e => {\n    const { data } = this.state;\n    data[e.target.name] = e.target.value;\n    this.setState({ data });\n  }\n\n  insertStudent = () => {\n    const { isValid, errors } = validator(this.state.data);\n\n    if (!isValid) {\n      return this.setState({ errors });\n    }\n\n    const { students, updateStudentList } = this.props;\n    const data = getDataFromLocalStorage('students') || students;\n    const updatedData = [ ...data, this.state.data ];\n    saveDataToLocalStorage('students', updatedData);\n    updateStudentList(updatedData);\n    this.setState({ errors: {}, data: {} });\n  }\n\n  render() {\n    const { errors, data: { name, gender, math, english } } = this.state;\n\n    return (\n      <div className=\"student-form\">\n        <h2>Student form</h2>\n        <div className=\"student-form-content\">\n          <TextInput name=\"name\" label=\"Student Name\" value={ name } onChange={ this.handleChange } error={ errors.name } />\n          <TextInput name=\"gender\" label=\"Gender\" value={ gender } onChange={ e => this.handleChange(e) } error={ errors.gender } />\n          <TextInput name=\"math\" label=\"Math\" value={ math } onChange={ this.handleChange }  error={ errors.math } />\n          <TextInput name=\"english\" label=\"English\" value={ english } onChange={ this.handleChange }  error={ errors.english } />\n          <button className=\"button\" onClick={ this.insertStudent }>Insert Student</button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default StudentForm;"]},"metadata":{},"sourceType":"module"}